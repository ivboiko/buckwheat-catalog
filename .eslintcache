[{"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Graphic\\DataBuckwheat.jsx":"1","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\common\\DataPicker\\DataPicker.js":"2","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Graphic\\Graphic.js":"3","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Graphic\\GraphicBuckwheat\\GraphicBuckwheat.jsx":"4","D:\\webstorm-projects\\buckwheat-catalog\\src\\index.js":"5","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Graphic\\GraphicBuckwheat\\index.js":"6","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Graphic\\GraphicBuckwheat\\CustomizedAxisTick.jsx":"7","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Cards\\Cards.js":"8","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\common\\PriceSort\\PriceSort.js":"9","D:\\webstorm-projects\\buckwheat-catalog\\src\\redux\\reducers\\app-reducer.js":"10","D:\\webstorm-projects\\buckwheat-catalog\\src\\redux\\store.js":"11","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\common\\Dropdown\\Dropdown.js":"12","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\common\\ThemeSwitcher\\ThemeSwitcher.js":"13","D:\\webstorm-projects\\buckwheat-catalog\\src\\App.js":"14","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Cards\\Card\\Card.js":"15","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\common\\BestPrice\\BestPrice.js":"16","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\Header\\Header.js":"17","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\MainApp.js":"18","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Graphic\\GraphicPlug\\GraphicPlug.js":"19","D:\\webstorm-projects\\buckwheat-catalog\\src\\utils\\sort.js":"20","D:\\webstorm-projects\\buckwheat-catalog\\src\\utils\\getFixedNumber.js":"21","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Cards\\useDataCard.jsx":"22"},{"size":640,"mtime":1611511782014,"results":"23","hashOfConfig":"24"},{"size":1549,"mtime":1611500085298,"results":"25","hashOfConfig":"24"},{"size":2344,"mtime":1611611614520,"results":"26","hashOfConfig":"24"},{"size":2471,"mtime":1611531145637,"results":"27","hashOfConfig":"24"},{"size":621,"mtime":1611417294030,"results":"28","hashOfConfig":"24"},{"size":84,"mtime":1611342466503,"results":"29","hashOfConfig":"24"},{"size":508,"mtime":1611348067448,"results":"30","hashOfConfig":"24"},{"size":3540,"mtime":1611616543539,"results":"31","hashOfConfig":"24"},{"size":1636,"mtime":1611600418970,"results":"32","hashOfConfig":"24"},{"size":1240,"mtime":1611607838463,"results":"33","hashOfConfig":"24"},{"size":204,"mtime":1611415659239,"results":"34","hashOfConfig":"24"},{"size":1854,"mtime":1611613852830,"results":"35","hashOfConfig":"24"},{"size":801,"mtime":1611445849911,"results":"36","hashOfConfig":"24"},{"size":793,"mtime":1611496806348,"results":"37","hashOfConfig":"24"},{"size":1867,"mtime":1611615778559,"results":"38","hashOfConfig":"24"},{"size":176,"mtime":1611188705761,"results":"39","hashOfConfig":"24"},{"size":617,"mtime":1611496587092,"results":"40","hashOfConfig":"24"},{"size":347,"mtime":1611496873263,"results":"41","hashOfConfig":"24"},{"size":1095,"mtime":1611608955564,"results":"42","hashOfConfig":"24"},{"size":399,"mtime":1611607318766,"results":"43","hashOfConfig":"24"},{"size":109,"mtime":1611607040869,"results":"44","hashOfConfig":"24"},{"size":3040,"mtime":1611616461280,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"gwi63o",{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92"},"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Graphic\\DataBuckwheat.jsx",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\common\\DataPicker\\DataPicker.js",[],["93","94"],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Graphic\\Graphic.js",["95","96","97"],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Graphic\\GraphicBuckwheat\\GraphicBuckwheat.jsx",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\index.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Graphic\\GraphicBuckwheat\\index.js",[],["98","99"],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Graphic\\GraphicBuckwheat\\CustomizedAxisTick.jsx",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Cards\\Cards.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\common\\PriceSort\\PriceSort.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\redux\\reducers\\app-reducer.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\redux\\store.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\common\\Dropdown\\Dropdown.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\common\\ThemeSwitcher\\ThemeSwitcher.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\App.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Cards\\Card\\Card.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\common\\BestPrice\\BestPrice.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\Header\\Header.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\MainApp.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Graphic\\GraphicPlug\\GraphicPlug.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\utils\\sort.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\utils\\getFixedNumber.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Cards\\useDataCard.jsx",["100"],"import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport constant from \"../../../assets/imgs/constant.png\";\r\nimport increase from \"../../../assets/imgs/increase.png\";\r\nimport reduction from \"../../../assets/imgs/reduction.png\";\r\nimport novus from \"../../../assets/imgs/NOVUS_logo.png\";\r\nimport auchan from \"../../../assets/imgs/АШАН_logo.png\";\r\nimport megamarket from \"../../../assets/imgs/МЕГАМАРКЕТ_logo.png\";\r\nimport varus from \"../../../assets/imgs/VARUS_logo.png\";\r\nimport furshet from \"../../../assets/imgs/ФУРШЕТ_logo.png\";\r\nimport ekomarket from \"../../../assets/imgs/EKO_logo.png\";\r\nimport citymarket from \"../../../assets/imgs/CITY_MARKET_logo.png\";\r\n\r\nconst logo = {\r\n  novus,\r\n  auchan,\r\n  megamarket,\r\n  varus,\r\n  furshet,\r\n  ekomarket,\r\n  citymarket,\r\n};\r\n\r\nexport const periodConst = {\r\n  week: 'week',\r\n  month: 'month',\r\n  year: 'year',\r\n};\r\n\r\nexport function useDataCard() {\r\n  const [dataCardsFromDb, setDataCardsFromDb] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [cards, setCards] = useState([]);\r\n  const [period, setPeriod] = useState(periodConst.week);\r\n\r\n  useEffect(() => {\r\n    const s = bestShop(dataCardsFromDb);\r\n    setCards(s);\r\n  }, [period]);\r\n\r\n  const filterPeriod = (data, filterIndex, dataCards) => {\r\n    dataCards[filterIndex].goods.forEach((item, index) => {\r\n      const start = item.priceForPack;\r\n      const end = data[index].priceForPack;\r\n\r\n      const procent = ((end - start) / start) * 100;\r\n      data[index].procent = Math.round(procent);\r\n      if (procent < 0) {\r\n        data[index].increase = reduction;\r\n      } else if (procent > 0) {\r\n        data[index].increase = increase;\r\n      } else if (procent === 0) {\r\n        data[index].increase = constant;\r\n      }\r\n\r\n      data[index].logoSrc = logo[`${data[index].shop}`];\r\n    });\r\n\r\n    return data;\r\n  };\r\n\r\n  const bestShop = (dataCards) => {\r\n    let data;\r\n\r\n    if (dataCards.length === 0) {\r\n      return null;\r\n    }\r\n\r\n    data = dataCards[0].goods.map((item) => {\r\n      return { ...item };\r\n    });\r\n\r\n    if (period === periodConst.week) {\r\n      data = filterPeriod(data, 1, dataCards);\r\n    } else if (period === periodConst.month) {\r\n      data = filterPeriod(data, 2, dataCards);\r\n    } else if (period === periodConst.year) {\r\n      data = filterPeriod(data, 3, dataCards);\r\n    } else return null;\r\n\r\n    // sort\r\n    data.sort(function (a, b) {\r\n      return a.priceForKg - b.priceForKg;\r\n    });\r\n\r\n    data[0].bestPrice = true;\r\n\r\n    return data;\r\n  };\r\n\r\n  const request = async () => {\r\n    try {\r\n      setLoading(false);\r\n      const response = await axios.get(\"/data/ymwd\");\r\n      setDataCardsFromDb(response.data);\r\n      const s = bestShop(response.data);\r\n      setCards(s);\r\n      setLoading(true);\r\n    } catch (e) {\r\n      setError(e.message);\r\n    }\r\n  };\r\n\r\n  return {\r\n    request,\r\n    loading,\r\n    error,\r\n    bestShop,\r\n    period,\r\n    setPeriod,\r\n    cards,\r\n  };\r\n}\r\n",{"ruleId":"101","replacedBy":"102"},{"ruleId":"103","replacedBy":"104"},{"ruleId":"105","severity":1,"message":"106","line":10,"column":8,"nodeType":"107","messageId":"108","endLine":10,"endColumn":19},{"ruleId":"109","severity":1,"message":"110","line":35,"column":6,"nodeType":"111","endLine":35,"endColumn":8,"suggestions":"112"},{"ruleId":"109","severity":1,"message":"110","line":48,"column":6,"nodeType":"111","endLine":48,"endColumn":67,"suggestions":"113"},{"ruleId":"101","replacedBy":"114"},{"ruleId":"103","replacedBy":"115"},{"ruleId":"109","severity":1,"message":"116","line":40,"column":6,"nodeType":"111","endLine":40,"endColumn":14,"suggestions":"117"},"no-native-reassign",["118"],"no-negated-in-lhs",["119"],"no-unused-vars","'GraphicPlug' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'month', 'week', and 'year'. Either include them or remove the dependency array.","ArrayExpression",["120"],["121"],["118"],["119"],"React Hook useEffect has missing dependencies: 'bestShop' and 'dataCardsFromDb'. Either include them or remove the dependency array.",["122"],"no-global-assign","no-unsafe-negation",{"desc":"123","fix":"124"},{"desc":"125","fix":"126"},{"desc":"127","fix":"128"},"Update the dependencies array to be: [month, week, year]",{"range":"129","text":"130"},"Update the dependencies array to be: [week.loading, month.loading, year.loading, period, shopName, week, month, year]",{"range":"131","text":"132"},"Update the dependencies array to be: [bestShop, dataCardsFromDb, period]",{"range":"133","text":"134"},[1115,1117],"[month, week, year]",[1615,1676],"[week.loading, month.loading, year.loading, period, shopName, week, month, year]",[1266,1274],"[bestShop, dataCardsFromDb, period]"]