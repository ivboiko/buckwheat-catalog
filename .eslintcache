[{"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Graphic\\DataBuckwheat.jsx":"1","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\common\\DataPicker\\DataPicker.js":"2","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Graphic\\Graphic.js":"3","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Graphic\\GraphicBuckwheat\\GraphicBuckwheat.jsx":"4","D:\\webstorm-projects\\buckwheat-catalog\\src\\index.js":"5","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Graphic\\GraphicBuckwheat\\index.js":"6","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Graphic\\GraphicBuckwheat\\CustomizedAxisTick.jsx":"7","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Cards\\Cards.js":"8","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\common\\PriceSort\\PriceSort.js":"9","D:\\webstorm-projects\\buckwheat-catalog\\src\\redux\\reducers\\app-reducer.js":"10","D:\\webstorm-projects\\buckwheat-catalog\\src\\redux\\store.js":"11","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\common\\Dropdown\\Dropdown.js":"12","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\common\\ThemeSwitcher\\ThemeSwitcher.js":"13","D:\\webstorm-projects\\buckwheat-catalog\\src\\App.js":"14","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Cards\\Card\\Card.js":"15","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\common\\BestPrice\\BestPrice.js":"16","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\Header\\Header.js":"17","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\MainApp.js":"18","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Graphic\\GraphicPlug\\GraphicPlug.js":"19","D:\\webstorm-projects\\buckwheat-catalog\\src\\utils\\sort.js":"20","D:\\webstorm-projects\\buckwheat-catalog\\src\\utils\\getFixedNumber.js":"21","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Cards\\useDataCard.jsx":"22","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Graphic\\usePeriodGraphic.jsx":"23","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\common\\CustomHooks\\useTheme.js":"24"},{"size":640,"mtime":1611511782014,"results":"25","hashOfConfig":"26"},{"size":1549,"mtime":1611500085298,"results":"27","hashOfConfig":"26"},{"size":2361,"mtime":1611616920180,"results":"28","hashOfConfig":"26"},{"size":3972,"mtime":1611616920180,"results":"29","hashOfConfig":"26"},{"size":621,"mtime":1611417294030,"results":"30","hashOfConfig":"26"},{"size":84,"mtime":1611342466503,"results":"31","hashOfConfig":"26"},{"size":508,"mtime":1611348067448,"results":"32","hashOfConfig":"26"},{"size":3546,"mtime":1611623846251,"results":"33","hashOfConfig":"26"},{"size":1636,"mtime":1611600418970,"results":"34","hashOfConfig":"26"},{"size":1636,"mtime":1611619994877,"results":"35","hashOfConfig":"26"},{"size":129,"mtime":1611624063402,"results":"36","hashOfConfig":"26"},{"size":1854,"mtime":1611613852830,"results":"37","hashOfConfig":"26"},{"size":545,"mtime":1611621812838,"results":"38","hashOfConfig":"26"},{"size":1068,"mtime":1611622957165,"results":"39","hashOfConfig":"26"},{"size":1867,"mtime":1611615778559,"results":"40","hashOfConfig":"26"},{"size":176,"mtime":1611188705761,"results":"41","hashOfConfig":"26"},{"size":617,"mtime":1611496587092,"results":"42","hashOfConfig":"26"},{"size":347,"mtime":1611496873263,"results":"43","hashOfConfig":"26"},{"size":1095,"mtime":1611608955564,"results":"44","hashOfConfig":"26"},{"size":399,"mtime":1611607318766,"results":"45","hashOfConfig":"26"},{"size":109,"mtime":1611607040869,"results":"46","hashOfConfig":"26"},{"size":3040,"mtime":1611616461280,"results":"47","hashOfConfig":"26"},{"size":1741,"mtime":1611611614521,"results":"48","hashOfConfig":"26"},{"size":523,"mtime":1611622499349,"results":"49","hashOfConfig":"26"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"gwi63o",{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"91"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Graphic\\DataBuckwheat.jsx",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\common\\DataPicker\\DataPicker.js",[],["103","104"],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Graphic\\Graphic.js",["105","106","107"],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Graphic\\GraphicBuckwheat\\GraphicBuckwheat.jsx",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\index.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Graphic\\GraphicBuckwheat\\index.js",[],["108","109"],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Graphic\\GraphicBuckwheat\\CustomizedAxisTick.jsx",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Cards\\Cards.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\common\\PriceSort\\PriceSort.js",[],["110","111"],"D:\\webstorm-projects\\buckwheat-catalog\\src\\redux\\reducers\\app-reducer.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\redux\\store.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\common\\Dropdown\\Dropdown.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\common\\ThemeSwitcher\\ThemeSwitcher.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\App.js",["112"],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Cards\\Card\\Card.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\common\\BestPrice\\BestPrice.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\Header\\Header.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\MainApp.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Graphic\\GraphicPlug\\GraphicPlug.js",[],["113","114"],"D:\\webstorm-projects\\buckwheat-catalog\\src\\utils\\sort.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\utils\\getFixedNumber.js",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Cards\\useDataCard.jsx",["115"],"import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport constant from \"../../../assets/imgs/constant.png\";\r\nimport increase from \"../../../assets/imgs/increase.png\";\r\nimport reduction from \"../../../assets/imgs/reduction.png\";\r\nimport novus from \"../../../assets/imgs/NOVUS_logo.png\";\r\nimport auchan from \"../../../assets/imgs/АШАН_logo.png\";\r\nimport megamarket from \"../../../assets/imgs/МЕГАМАРКЕТ_logo.png\";\r\nimport varus from \"../../../assets/imgs/VARUS_logo.png\";\r\nimport furshet from \"../../../assets/imgs/ФУРШЕТ_logo.png\";\r\nimport ekomarket from \"../../../assets/imgs/EKO_logo.png\";\r\nimport citymarket from \"../../../assets/imgs/CITY_MARKET_logo.png\";\r\n\r\nconst logo = {\r\n  novus,\r\n  auchan,\r\n  megamarket,\r\n  varus,\r\n  furshet,\r\n  ekomarket,\r\n  citymarket,\r\n};\r\n\r\nexport const periodConst = {\r\n  week: 'week',\r\n  month: 'month',\r\n  year: 'year',\r\n};\r\n\r\nexport function useDataCard() {\r\n  const [dataCardsFromDb, setDataCardsFromDb] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [cards, setCards] = useState([]);\r\n  const [period, setPeriod] = useState(periodConst.week);\r\n\r\n  useEffect(() => {\r\n    const s = bestShop(dataCardsFromDb);\r\n    setCards(s);\r\n  }, [period]);\r\n\r\n  const filterPeriod = (data, filterIndex, dataCards) => {\r\n    dataCards[filterIndex].goods.forEach((item, index) => {\r\n      const start = item.priceForPack;\r\n      const end = data[index].priceForPack;\r\n\r\n      const procent = ((end - start) / start) * 100;\r\n      data[index].procent = Math.round(procent);\r\n      if (procent < 0) {\r\n        data[index].increase = reduction;\r\n      } else if (procent > 0) {\r\n        data[index].increase = increase;\r\n      } else if (procent === 0) {\r\n        data[index].increase = constant;\r\n      }\r\n\r\n      data[index].logoSrc = logo[`${data[index].shop}`];\r\n    });\r\n\r\n    return data;\r\n  };\r\n\r\n  const bestShop = (dataCards) => {\r\n    let data;\r\n\r\n    if (dataCards.length === 0) {\r\n      return null;\r\n    }\r\n\r\n    data = dataCards[0].goods.map((item) => {\r\n      return { ...item };\r\n    });\r\n\r\n    if (period === periodConst.week) {\r\n      data = filterPeriod(data, 1, dataCards);\r\n    } else if (period === periodConst.month) {\r\n      data = filterPeriod(data, 2, dataCards);\r\n    } else if (period === periodConst.year) {\r\n      data = filterPeriod(data, 3, dataCards);\r\n    } else return null;\r\n\r\n    // sort\r\n    data.sort(function (a, b) {\r\n      return a.priceForKg - b.priceForKg;\r\n    });\r\n\r\n    data[0].bestPrice = true;\r\n\r\n    return data;\r\n  };\r\n\r\n  const request = async () => {\r\n    try {\r\n      setLoading(false);\r\n      const response = await axios.get(\"/data/ymwd\");\r\n      setDataCardsFromDb(response.data);\r\n      const s = bestShop(response.data);\r\n      setCards(s);\r\n      setLoading(true);\r\n    } catch (e) {\r\n      setError(e.message);\r\n    }\r\n  };\r\n\r\n  return {\r\n    request,\r\n    loading,\r\n    error,\r\n    bestShop,\r\n    period,\r\n    setPeriod,\r\n    cards,\r\n  };\r\n}\r\n","D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\MainApp\\Graphic\\usePeriodGraphic.jsx",[],"D:\\webstorm-projects\\buckwheat-catalog\\src\\components\\common\\CustomHooks\\useTheme.js",[],{"ruleId":"116","replacedBy":"117"},{"ruleId":"118","replacedBy":"119"},{"ruleId":"120","severity":1,"message":"121","line":10,"column":8,"nodeType":"122","messageId":"123","endLine":10,"endColumn":19},{"ruleId":"124","severity":1,"message":"125","line":35,"column":6,"nodeType":"126","endLine":35,"endColumn":8,"suggestions":"127"},{"ruleId":"124","severity":1,"message":"125","line":48,"column":6,"nodeType":"126","endLine":48,"endColumn":67,"suggestions":"128"},{"ruleId":"116","replacedBy":"129"},{"ruleId":"118","replacedBy":"130"},{"ruleId":"116","replacedBy":"131"},{"ruleId":"118","replacedBy":"132"},{"ruleId":"124","severity":1,"message":"133","line":25,"column":6,"nodeType":"126","endLine":25,"endColumn":8,"suggestions":"134"},{"ruleId":"116","replacedBy":"135"},{"ruleId":"118","replacedBy":"136"},{"ruleId":"124","severity":1,"message":"137","line":40,"column":6,"nodeType":"126","endLine":40,"endColumn":14,"suggestions":"138"},"no-native-reassign",["139"],"no-negated-in-lhs",["140"],"no-unused-vars","'GraphicPlug' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'month', 'week', and 'year'. Either include them or remove the dependency array.","ArrayExpression",["141"],["142"],["139"],["140"],["139"],["140"],"React Hook useEffect has a missing dependency: 'toggleTheme'. Either include it or remove the dependency array. If 'toggleTheme' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["143"],["139"],["140"],"React Hook useEffect has missing dependencies: 'bestShop' and 'dataCardsFromDb'. Either include them or remove the dependency array.",["144"],"no-global-assign","no-unsafe-negation",{"desc":"145","fix":"146"},{"desc":"147","fix":"148"},{"desc":"149","fix":"150"},{"desc":"151","fix":"152"},"Update the dependencies array to be: [month, week, year]",{"range":"153","text":"154"},"Update the dependencies array to be: [week.loading, month.loading, year.loading, period, shopName, week, month, year]",{"range":"155","text":"156"},"Update the dependencies array to be: [toggleTheme]",{"range":"157","text":"158"},"Update the dependencies array to be: [bestShop, dataCardsFromDb, period]",{"range":"159","text":"160"},[1115,1117],"[month, week, year]",[1615,1676],"[week.loading, month.loading, year.loading, period, shopName, week, month, year]",[767,769],"[toggleTheme]",[1266,1274],"[bestShop, dataCardsFromDb, period]"]